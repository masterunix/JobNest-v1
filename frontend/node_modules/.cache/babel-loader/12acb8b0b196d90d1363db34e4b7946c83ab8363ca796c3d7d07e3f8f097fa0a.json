{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useAuth}from'../../contexts/AuthContext';import{campaignAPI}from'../../utils/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmployerCampaignManager=()=>{const{user}=useAuth();const navigate=useNavigate();const[campaigns,setCampaigns]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{if(!user||!['employer','owner'].includes(user.role))return;setLoading(true);campaignAPI.getCampaigns({owner:user._id||user.id}).then(res=>{setCampaigns(res.data.data||[]);setLoading(false);}).catch(err=>{setError('Failed to load campaigns');setLoading(false);});},[user]);const handleView=id=>navigate(`/campaigns/${id}`);const handleEdit=id=>navigate(`/campaigns/edit/${id}`);const handleDelete=async id=>{if(!window.confirm('Are you sure you want to delete this campaign?'))return;try{await campaignAPI.deleteCampaign(id);setCampaigns(campaigns.filter(c=>c._id!==id));}catch{alert('Failed to delete campaign');}};if(!user||!['employer','owner'].includes(user.role))return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Your Campaigns\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary px-4 py-2 rounded\",onClick:()=>navigate('/campaigns/create'),children:\"+ Create Campaign\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:error}):campaigns.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"No campaigns found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white dark:bg-gray-800 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Raised\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Goal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Deadline\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:campaigns.map(c=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 font-medium\",children:c.title}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:c.status}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:Number(c.raised).toLocaleString('en-IN',{style:'currency',currency:'INR'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:Number(c.goal).toLocaleString('en-IN',{style:'currency',currency:'INR'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:c.deadline?new Date(c.deadline).toLocaleDateString('en-IN'):'-'}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary px-2 py-1 rounded\",onClick:()=>handleView(c._id),children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary px-2 py-1 rounded\",onClick:()=>handleEdit(c._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-danger px-2 py-1 rounded\",onClick:()=>handleDelete(c._id),children:\"Delete\"})]})]},c._id))})]})})]});};export default EmployerCampaignManager;","map":{"version":3,"names":["React","useEffect","useState","useAuth","campaignAPI","useNavigate","jsx","_jsx","jsxs","_jsxs","EmployerCampaignManager","user","navigate","campaigns","setCampaigns","loading","setLoading","error","setError","includes","role","getCampaigns","owner","_id","id","then","res","data","catch","err","handleView","handleEdit","handleDelete","window","confirm","deleteCampaign","filter","c","alert","className","children","onClick","length","map","title","status","Number","raised","toLocaleString","style","currency","goal","deadline","Date","toLocaleDateString"],"sources":["/Users/vatsalgoyal/Desktop/Projects/JobNest/frontend/src/pages/campaigns/EmployerCampaignManager.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { campaignAPI } from '../../utils/api';\nimport { useNavigate } from 'react-router-dom';\n\nconst EmployerCampaignManager = () => {\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [campaigns, setCampaigns] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (!user || !['employer', 'owner'].includes(user.role)) return;\n    setLoading(true);\n    campaignAPI.getCampaigns({ owner: user._id || user.id })\n      .then(res => {\n        setCampaigns(res.data.data || []);\n        setLoading(false);\n      })\n      .catch(err => {\n        setError('Failed to load campaigns');\n        setLoading(false);\n      });\n  }, [user]);\n\n  const handleView = (id) => navigate(`/campaigns/${id}`);\n  const handleEdit = (id) => navigate(`/campaigns/edit/${id}`);\n  const handleDelete = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this campaign?')) return;\n    try {\n      await campaignAPI.deleteCampaign(id);\n      setCampaigns(campaigns.filter(c => c._id !== id));\n    } catch {\n      alert('Failed to delete campaign');\n    }\n  };\n\n  if (!user || !['employer', 'owner'].includes(user.role)) return null;\n\n  return (\n    <div className=\"max-w-5xl mx-auto p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold\">Your Campaigns</h2>\n        <button\n          className=\"btn-primary px-4 py-2 rounded\"\n          onClick={() => navigate('/campaigns/create')}\n        >\n          + Create Campaign\n        </button>\n      </div>\n      {loading ? (\n        <div>Loading...</div>\n      ) : error ? (\n        <div className=\"text-red-500\">{error}</div>\n      ) : campaigns.length === 0 ? (\n        <div>No campaigns found.</div>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white dark:bg-gray-800 border rounded-lg\">\n            <thead>\n              <tr>\n                <th className=\"px-4 py-2\">Title</th>\n                <th className=\"px-4 py-2\">Status</th>\n                <th className=\"px-4 py-2\">Raised</th>\n                <th className=\"px-4 py-2\">Goal</th>\n                <th className=\"px-4 py-2\">Deadline</th>\n                <th className=\"px-4 py-2\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {campaigns.map(c => (\n                <tr key={c._id} className=\"border-t\">\n                  <td className=\"px-4 py-2 font-medium\">{c.title}</td>\n                  <td className=\"px-4 py-2\">{c.status}</td>\n                  <td className=\"px-4 py-2\">{Number(c.raised).toLocaleString('en-IN', { style: 'currency', currency: 'INR' })}</td>\n                  <td className=\"px-4 py-2\">{Number(c.goal).toLocaleString('en-IN', { style: 'currency', currency: 'INR' })}</td>\n                  <td className=\"px-4 py-2\">{c.deadline ? new Date(c.deadline).toLocaleDateString('en-IN') : '-'}</td>\n                  <td className=\"px-4 py-2 space-x-2\">\n                    <button className=\"btn-secondary px-2 py-1 rounded\" onClick={() => handleView(c._id)}>View</button>\n                    <button className=\"btn-secondary px-2 py-1 rounded\" onClick={() => handleEdit(c._id)}>Edit</button>\n                    <button className=\"btn-danger px-2 py-1 rounded\" onClick={() => handleDelete(c._id)}>Delete</button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default EmployerCampaignManager; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}