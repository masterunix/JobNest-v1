{"ast":null,"code":"import React from'react';import{Navigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children,requireAuth=true,allowedRoles=[]}=_ref;const{isAuthenticated,user}=useAuth();// If authentication is not required, render children\nif(!requireAuth){return children;}// If not authenticated, redirect to login\nif(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}// If specific roles are required, check if user has the required role\nif(allowedRoles.length>0&&user&&!allowedRoles.includes(user.role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}// If all checks pass, render children\nreturn children;};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useAuth","jsx","_jsx","ProtectedRoute","_ref","children","requireAuth","allowedRoles","isAuthenticated","user","to","replace","length","includes","role"],"sources":["/Users/vatsalgoyal/Desktop/Projects/JobNest/frontend/src/components/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst ProtectedRoute = ({ children, requireAuth = true, allowedRoles = [] }) => {\n  const { isAuthenticated, user } = useAuth();\n\n  // If authentication is not required, render children\n  if (!requireAuth) {\n    return children;\n  }\n\n  // If not authenticated, redirect to login\n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  // If specific roles are required, check if user has the required role\n  if (allowedRoles.length > 0 && user && !allowedRoles.includes(user.role)) {\n    return <Navigate to=\"/\" replace />;\n  }\n\n  // If all checks pass, render children\n  return children;\n};\n\nexport default ProtectedRoute; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAyD,IAAxD,CAAEC,QAAQ,CAAEC,WAAW,CAAG,IAAI,CAAEC,YAAY,CAAG,EAAG,CAAC,CAAAH,IAAA,CACzE,KAAM,CAAEI,eAAe,CAAEC,IAAK,CAAC,CAAGT,OAAO,CAAC,CAAC,CAE3C;AACA,GAAI,CAACM,WAAW,CAAE,CAChB,MAAO,CAAAD,QAAQ,CACjB,CAEA;AACA,GAAI,CAACG,eAAe,CAAE,CACpB,mBAAON,IAAA,CAACH,QAAQ,EAACW,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA;AACA,GAAIJ,YAAY,CAACK,MAAM,CAAG,CAAC,EAAIH,IAAI,EAAI,CAACF,YAAY,CAACM,QAAQ,CAACJ,IAAI,CAACK,IAAI,CAAC,CAAE,CACxE,mBAAOZ,IAAA,CAACH,QAAQ,EAACW,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAC,CACpC,CAEA;AACA,MAAO,CAAAN,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}