{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{jobAPI}from'../utils/api';import toast from'react-hot-toast';import{MapPin,Clock,DollarSign,Building,Users,Globe,Heart,Share2,ArrowLeft}from'lucide-react';import{Link}from'react-router-dom';import{useMode}from'../contexts/ModeContext';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JobDetail=()=>{var _job$company,_job$location,_job$location2,_job$salary,_job$salary2,_job$description,_job$requirements,_job$requirements2,_job$requirements3,_job$requirements3$sk,_job$requirements4,_job$requirements5,_job$requirements6,_job$requirements7,_job$requirements8,_job$requirements9,_job$requirements0,_job$requirements0$ce,_job$company2,_job$companyInfo,_job$companyInfo2,_job$companyInfo3,_job$companyInfo4,_job$companyInfo5,_job$companyInfo6,_job$companyInfo7;const{id}=useParams();const navigate=useNavigate();const{isDarkMode}=useMode();const{user}=useAuth();const[isSaved,setIsSaved]=useState(false);const[job,setJob]=useState(null);const[loading,setLoading]=useState(true);const[showApplyModal,setShowApplyModal]=useState(false);const[coverLetter,setCoverLetter]=useState('');const[sending,setSending]=useState(false);const[hasApplied,setHasApplied]=useState(false);useEffect(()=>{const fetchJob=async()=>{setLoading(true);try{const res=await jobAPI.getJob(id);if(res.data.success){setJob(res.data.data);console.log('Fetched job:',res.data.data);// Debug log\n// Check if user has already applied\nconst applications=res.data.data.applications;if(Array.isArray(applications)&&user){setHasApplied(applications.some(app=>app.applicant===user._id||app.applicant===user.id||app.applicant&&app.applicant._id===user._id||app.applicant&&app.applicant.id===user.id));}else{setHasApplied(false);}}else{toast.error('Job not found');navigate('/jobs');}}catch{toast.error('Failed to load job');navigate('/jobs');}finally{setLoading(false);}};fetchJob();},[id,navigate,user]);const handleApply=()=>{setShowApplyModal(true);};const handleSendApplication=async()=>{setSending(true);try{const res=await jobAPI.applyForJob(id,{coverLetter});if(res.data.success){toast.success('Application submitted! You can track your application in your dashboard.');setShowApplyModal(false);setCoverLetter('');setHasApplied(true);// Update button immediately\n// Optionally update local job applications count for instant feedback\nsetJob(prevJob=>prevJob?{...prevJob,applications:Array.isArray(prevJob.applications)?[...prevJob.applications,{applicant:user._id||user.id}]:[{applicant:user._id||user.id}]}:prevJob);}else{toast.error(res.data.message||'Failed to apply.');}}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to apply.');}finally{setSending(false);}};if(loading||!job)return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto py-16 text-center\",children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-background-light dark:bg-background-dark transition-colors duration-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/jobs\",className:`inline-flex items-center mb-6 transition-colors duration-200 ${isDarkMode?'text-gray-300 hover:text-white':'text-gray-600 hover:text-gray-900'}`,children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4 mr-2\"}),\"Back to Jobs\"]}),/*#__PURE__*/_jsxs(\"div\",{className:`rounded-lg border p-6 mb-6 transition-colors duration-200 ${isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-16 h-16 rounded-lg flex items-center justify-center transition-colors duration-200 ${isDarkMode?'bg-gray-700':'bg-gray-100'}`,children:/*#__PURE__*/_jsx(Building,{className:`h-8 w-8 transition-colors duration-200 ${isDarkMode?'text-gray-400':'text-gray-500'}`})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:`text-2xl font-bold mb-2 transition-colors duration-200 ${isDarkMode?'text-white':'text-gray-900'}`,children:(job===null||job===void 0?void 0:job.title)||'Job Title'}),/*#__PURE__*/_jsx(\"p\",{className:`text-lg mb-2 transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:(job===null||job===void 0?void 0:(_job$company=job.company)===null||_job$company===void 0?void 0:_job$company.name)||(job===null||job===void 0?void 0:job.company)||'Company'}),/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center space-x-4 text-sm transition-colors duration-200 ${isDarkMode?'text-gray-400':'text-gray-500'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"h-4 w-4 mr-1\"}),job===null||job===void 0?void 0:(_job$location=job.location)===null||_job$location===void 0?void 0:_job$location.city,\", \",job===null||job===void 0?void 0:(_job$location2=job.location)===null||_job$location2===void 0?void 0:_job$location2.state]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 mr-1\"}),(job===null||job===void 0?void 0:job.type)||'Type not specified']}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-4 w-4 mr-1\"}),job!==null&&job!==void 0&&(_job$salary=job.salary)!==null&&_job$salary!==void 0&&_job$salary.min&&job!==null&&job!==void 0&&(_job$salary2=job.salary)!==null&&_job$salary2!==void 0&&_job$salary2.max?`${job.salary.min} - ${job.salary.max} ${job.salary.currency}/${job.salary.period}`:'Salary not specified']})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSaved(!isSaved),className:`p-2 rounded-lg border transition-colors duration-200 ${isSaved?'bg-primary-50 border-primary-200 text-primary-600':isDarkMode?'border-gray-600 text-gray-400 hover:text-gray-300':'border-gray-300 text-gray-400 hover:text-gray-600'}`,children:/*#__PURE__*/_jsx(Heart,{className:`h-5 w-5 ${isSaved?'fill-current':''}`})}),/*#__PURE__*/_jsx(\"button\",{className:`p-2 rounded-lg border transition-colors duration-200 ${isDarkMode?'border-gray-600 text-gray-400 hover:text-gray-300':'border-gray-300 text-gray-400 hover:text-gray-600'}`,children:/*#__PURE__*/_jsx(Share2,{className:\"h-5 w-5\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center justify-between pt-4 border-t transition-colors duration-200 ${isDarkMode?'border-gray-700':'border-gray-200'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center space-x-4 text-sm transition-colors duration-200 ${isDarkMode?'text-gray-400':'text-gray-500'}`,children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Posted \",(job===null||job===void 0?void 0:job.posted)||'N/A']}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[Array.isArray(job===null||job===void 0?void 0:job.applications)?job.applications.length:0,\" applications\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary px-8 py-3\",onClick:handleApply,disabled:hasApplied,children:hasApplied?'Applied':'Apply Now'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`rounded-lg border p-6 transition-colors duration-200 ${isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200'}`,children:[/*#__PURE__*/_jsx(\"h2\",{className:`text-xl font-semibold mb-4 transition-colors duration-200 ${isDarkMode?'text-white':'text-gray-900'}`,children:\"Job Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-gray max-w-none\",children:job===null||job===void 0?void 0:(_job$description=job.description)===null||_job$description===void 0?void 0:_job$description.split('\\n').map((paragraph,index)=>/*#__PURE__*/_jsx(\"p\",{className:`mb-4 transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:paragraph},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:`rounded-lg border p-6 transition-colors duration-200 ${isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200'}`,children:[/*#__PURE__*/_jsx(\"h2\",{className:`text-xl font-semibold mb-4 transition-colors duration-200 ${isDarkMode?'text-white':'text-gray-900'}`,children:\"Requirements\"}),job!==null&&job!==void 0&&job.requirements?/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2\",children:[Array.isArray(job===null||job===void 0?void 0:(_job$requirements=job.requirements)===null||_job$requirements===void 0?void 0:_job$requirements.skills)&&(job===null||job===void 0?void 0:(_job$requirements2=job.requirements)===null||_job$requirements2===void 0?void 0:_job$requirements2.skills.length)>0&&/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-primary-500 rounded-full mt-2 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{className:`transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:[\"Skills: \",job===null||job===void 0?void 0:(_job$requirements3=job.requirements)===null||_job$requirements3===void 0?void 0:(_job$requirements3$sk=_job$requirements3.skills)===null||_job$requirements3$sk===void 0?void 0:_job$requirements3$sk.join(', ')]})]}),(job===null||job===void 0?void 0:(_job$requirements4=job.requirements)===null||_job$requirements4===void 0?void 0:_job$requirements4.experience)&&/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-primary-500 rounded-full mt-2 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{className:`transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:[\"Experience: \",job===null||job===void 0?void 0:(_job$requirements5=job.requirements)===null||_job$requirements5===void 0?void 0:_job$requirements5.experience]})]}),(job===null||job===void 0?void 0:(_job$requirements6=job.requirements)===null||_job$requirements6===void 0?void 0:_job$requirements6.education)&&/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-primary-500 rounded-full mt-2 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{className:`transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:[\"Education: \",job===null||job===void 0?void 0:(_job$requirements7=job.requirements)===null||_job$requirements7===void 0?void 0:_job$requirements7.education]})]}),Array.isArray(job===null||job===void 0?void 0:(_job$requirements8=job.requirements)===null||_job$requirements8===void 0?void 0:_job$requirements8.certifications)&&(job===null||job===void 0?void 0:(_job$requirements9=job.requirements)===null||_job$requirements9===void 0?void 0:_job$requirements9.certifications.length)>0&&/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-primary-500 rounded-full mt-2 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{className:`transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:[\"Certifications: \",job===null||job===void 0?void 0:(_job$requirements0=job.requirements)===null||_job$requirements0===void 0?void 0:(_job$requirements0$ce=_job$requirements0.certifications)===null||_job$requirements0$ce===void 0?void 0:_job$requirements0$ce.join(', ')]})]})]}):/*#__PURE__*/_jsx(\"p\",{className:`text-gray-500 ${isDarkMode?'text-gray-400':'text-gray-500'}`,children:\"No requirements specified.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:`rounded-lg border p-6 transition-colors duration-200 ${isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200'}`,children:[/*#__PURE__*/_jsx(\"h2\",{className:`text-xl font-semibold mb-4 transition-colors duration-200 ${isDarkMode?'text-white':'text-gray-900'}`,children:\"Benefits\"}),Array.isArray(job===null||job===void 0?void 0:job.benefits)&&(job===null||job===void 0?void 0:job.benefits.length)>0?/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:job===null||job===void 0?void 0:job.benefits.map((benefit,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-secondary-500 rounded-full mt-2 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:`transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:benefit})]},index))}):/*#__PURE__*/_jsx(\"p\",{className:`text-gray-500 ${isDarkMode?'text-gray-400':'text-gray-500'}`,children:\"No benefits specified.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:`rounded-lg border p-6 transition-colors duration-200 ${isDarkMode?'bg-gray-800 border-gray-700':'bg-white border-gray-200'}`,children:[/*#__PURE__*/_jsxs(\"h3\",{className:`text-lg font-semibold mb-4 transition-colors duration-200 ${isDarkMode?'text-white':'text-gray-900'}`,children:[\"About \",(job===null||job===void 0?void 0:(_job$company2=job.company)===null||_job$company2===void 0?void 0:_job$company2.name)||(job===null||job===void 0?void 0:job.company)||'Company']}),/*#__PURE__*/_jsx(\"p\",{className:`mb-4 transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:(job===null||job===void 0?void 0:(_job$companyInfo=job.companyInfo)===null||_job$companyInfo===void 0?void 0:_job$companyInfo.description)||'No company description available.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[(job===null||job===void 0?void 0:(_job$companyInfo2=job.companyInfo)===null||_job$companyInfo2===void 0?void 0:_job$companyInfo2.size)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Users,{className:`h-4 w-4 mr-2 transition-colors duration-200 ${isDarkMode?'text-gray-400':'text-gray-400'}`}),/*#__PURE__*/_jsx(\"span\",{className:`transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:job===null||job===void 0?void 0:(_job$companyInfo3=job.companyInfo)===null||_job$companyInfo3===void 0?void 0:_job$companyInfo3.size})]}),(job===null||job===void 0?void 0:(_job$companyInfo4=job.companyInfo)===null||_job$companyInfo4===void 0?void 0:_job$companyInfo4.industry)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Building,{className:`h-4 w-4 mr-2 transition-colors duration-200 ${isDarkMode?'text-gray-400':'text-gray-400'}`}),/*#__PURE__*/_jsx(\"span\",{className:`transition-colors duration-200 ${isDarkMode?'text-gray-300':'text-gray-600'}`,children:job===null||job===void 0?void 0:(_job$companyInfo5=job.companyInfo)===null||_job$companyInfo5===void 0?void 0:_job$companyInfo5.industry})]}),(job===null||job===void 0?void 0:(_job$companyInfo6=job.companyInfo)===null||_job$companyInfo6===void 0?void 0:_job$companyInfo6.website)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Globe,{className:`h-4 w-4 mr-2 transition-colors duration-200 ${isDarkMode?'text-gray-400':'text-gray-400'}`}),/*#__PURE__*/_jsx(\"a\",{href:job===null||job===void 0?void 0:(_job$companyInfo7=job.companyInfo)===null||_job$companyInfo7===void 0?void 0:_job$companyInfo7.website,className:\"text-primary-600 hover:text-primary-700\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Visit Website\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-6\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Similar Jobs\"})})]})]})]}),showApplyModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-2 text-gray-900 dark:text-gray-100\",children:\"Submit Your Application\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2 text-gray-700 dark:text-gray-300 text-sm\",children:[\"Please write a short paragraph about why you are a good fit for this job. Consider including:\",/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc ml-6 mt-1 text-xs text-gray-600 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Your motivation for applying\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Relevant experience or skills\"}),/*#__PURE__*/_jsx(\"li\",{children:\"What excites you about this company or role\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 text-xs text-red-600 dark:text-red-400 font-semibold\",children:\"You can apply only once for this job.\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full border rounded p-2 mb-4 dark:bg-gray-700 dark:text-gray-100\",rows:5,placeholder:\"Type your application message here...\",value:coverLetter,onChange:e=>setCoverLetter(e.target.value),disabled:sending}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary px-4 py-2 rounded\",onClick:()=>setShowApplyModal(false),disabled:sending,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary px-4 py-2 rounded\",onClick:handleSendApplication,disabled:sending||!coverLetter.trim(),children:sending?'Sending...':'Send'})]})]})})]});};export default JobDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jobAPI","toast","MapPin","Clock","DollarSign","Building","Users","Globe","Heart","Share2","ArrowLeft","Link","useMode","useAuth","jsx","_jsx","jsxs","_jsxs","JobDetail","_job$company","_job$location","_job$location2","_job$salary","_job$salary2","_job$description","_job$requirements","_job$requirements2","_job$requirements3","_job$requirements3$sk","_job$requirements4","_job$requirements5","_job$requirements6","_job$requirements7","_job$requirements8","_job$requirements9","_job$requirements0","_job$requirements0$ce","_job$company2","_job$companyInfo","_job$companyInfo2","_job$companyInfo3","_job$companyInfo4","_job$companyInfo5","_job$companyInfo6","_job$companyInfo7","id","navigate","isDarkMode","user","isSaved","setIsSaved","job","setJob","loading","setLoading","showApplyModal","setShowApplyModal","coverLetter","setCoverLetter","sending","setSending","hasApplied","setHasApplied","fetchJob","res","getJob","data","success","console","log","applications","Array","isArray","some","app","applicant","_id","error","handleApply","handleSendApplication","applyForJob","prevJob","message","_error$response","_error$response$data","response","className","children","to","title","company","name","location","city","state","type","salary","min","max","currency","period","onClick","posted","length","disabled","description","split","map","paragraph","index","requirements","skills","join","experience","education","certifications","benefits","benefit","companyInfo","size","industry","website","href","target","rel","rows","placeholder","value","onChange","e","trim"],"sources":["/Users/vatsalgoyal/Desktop/Projects/JobNest/frontend/src/pages/JobDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { jobAPI } from '../utils/api';\nimport toast from 'react-hot-toast';\nimport { \n  MapPin, \n  Clock, \n  DollarSign, \n  Building, \n  Users, \n  Globe, \n  Heart,\n  Share2,\n  ArrowLeft\n} from 'lucide-react';\nimport { Link } from 'react-router-dom';\nimport { useMode } from '../contexts/ModeContext';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst JobDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { isDarkMode } = useMode();\n  const { user } = useAuth();\n  const [isSaved, setIsSaved] = useState(false);\n  const [job, setJob] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showApplyModal, setShowApplyModal] = useState(false);\n  const [coverLetter, setCoverLetter] = useState('');\n  const [sending, setSending] = useState(false);\n  const [hasApplied, setHasApplied] = useState(false);\n\n  useEffect(() => {\n    const fetchJob = async () => {\n      setLoading(true);\n      try {\n        const res = await jobAPI.getJob(id);\n        if (res.data.success) {\n          setJob(res.data.data);\n          console.log('Fetched job:', res.data.data); // Debug log\n          // Check if user has already applied\n          const applications = res.data.data.applications;\n          if (Array.isArray(applications) && user) {\n            setHasApplied(applications.some(app => \n              app.applicant === user._id || \n              app.applicant === user.id || \n              (app.applicant && app.applicant._id === user._id) ||\n              (app.applicant && app.applicant.id === user.id)\n            ));\n          } else {\n            setHasApplied(false);\n          }\n        } else {\n          toast.error('Job not found');\n          navigate('/jobs');\n        }\n      } catch {\n        toast.error('Failed to load job');\n        navigate('/jobs');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchJob();\n  }, [id, navigate, user]);\n\n  const handleApply = () => {\n    setShowApplyModal(true);\n  };\n\n  const handleSendApplication = async () => {\n    setSending(true);\n    try {\n      const res = await jobAPI.applyForJob(id, { coverLetter });\n      if (res.data.success) {\n        toast.success('Application submitted! You can track your application in your dashboard.');\n        setShowApplyModal(false);\n        setCoverLetter('');\n        setHasApplied(true); // Update button immediately\n        // Optionally update local job applications count for instant feedback\n        setJob(prevJob => prevJob ? {\n          ...prevJob,\n          applications: Array.isArray(prevJob.applications)\n            ? [...prevJob.applications, { applicant: user._id || user.id }]\n            : [{ applicant: user._id || user.id }],\n        } : prevJob);\n      } else {\n        toast.error(res.data.message || 'Failed to apply.');\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.message || 'Failed to apply.');\n    } finally {\n      setSending(false);\n    }\n  };\n\n  if (loading || !job) return <div className=\"max-w-2xl mx-auto py-16 text-center\">Loading...</div>;\n\n  return (\n    <div className=\"min-h-screen bg-background-light dark:bg-background-dark transition-colors duration-200\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Back Button */}\n        <Link \n          to=\"/jobs\" \n          className={`inline-flex items-center mb-6 transition-colors duration-200 ${\n            isDarkMode ? 'text-gray-300 hover:text-white' : 'text-gray-600 hover:text-gray-900'\n          }`}\n        >\n          <ArrowLeft className=\"h-4 w-4 mr-2\" />\n          Back to Jobs\n        </Link>\n\n        {/* Job Header */}\n        <div className={`rounded-lg border p-6 mb-6 transition-colors duration-200 ${\n          isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\n        }`}>\n          <div className=\"flex items-start justify-between mb-4\">\n            <div className=\"flex items-start space-x-4\">\n              <div className={`w-16 h-16 rounded-lg flex items-center justify-center transition-colors duration-200 ${\n                isDarkMode ? 'bg-gray-700' : 'bg-gray-100'\n              }`}>\n                <Building className={`h-8 w-8 transition-colors duration-200 ${\n                  isDarkMode ? 'text-gray-400' : 'text-gray-500'\n                }`} />\n              </div>\n              <div>\n                <h1 className={`text-2xl font-bold mb-2 transition-colors duration-200 ${\n                  isDarkMode ? 'text-white' : 'text-gray-900'\n                }`}>{job?.title || 'Job Title'}</h1>\n                <p className={`text-lg mb-2 transition-colors duration-200 ${\n                  isDarkMode ? 'text-gray-300' : 'text-gray-600'\n                }`}>{job?.company?.name || job?.company || 'Company'}</p>\n                <div className={`flex items-center space-x-4 text-sm transition-colors duration-200 ${\n                  isDarkMode ? 'text-gray-400' : 'text-gray-500'\n                }`}>\n                  <div className=\"flex items-center\">\n                    <MapPin className=\"h-4 w-4 mr-1\" />\n                    {job?.location?.city}, {job?.location?.state}\n                  </div>\n                  <div className=\"flex items-center\">\n                    <Clock className=\"h-4 w-4 mr-1\" />\n                    {job?.type || 'Type not specified'}\n                  </div>\n                  <div className=\"flex items-center\">\n                    <DollarSign className=\"h-4 w-4 mr-1\" />\n                    {job?.salary?.min && job?.salary?.max ? `${job.salary.min} - ${job.salary.max} ${job.salary.currency}/${job.salary.period}` : 'Salary not specified'}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"flex space-x-2\">\n              <button\n                onClick={() => setIsSaved(!isSaved)}\n                className={`p-2 rounded-lg border transition-colors duration-200 ${\n                  isSaved \n                    ? 'bg-primary-50 border-primary-200 text-primary-600' \n                    : isDarkMode\n                      ? 'border-gray-600 text-gray-400 hover:text-gray-300'\n                      : 'border-gray-300 text-gray-400 hover:text-gray-600'\n                }`}\n              >\n                <Heart className={`h-5 w-5 ${isSaved ? 'fill-current' : ''}`} />\n              </button>\n              <button className={`p-2 rounded-lg border transition-colors duration-200 ${\n                isDarkMode\n                  ? 'border-gray-600 text-gray-400 hover:text-gray-300'\n                  : 'border-gray-300 text-gray-400 hover:text-gray-600'\n              }`}>\n                <Share2 className=\"h-5 w-5\" />\n              </button>\n            </div>\n          </div>\n\n          <div className={`flex items-center justify-between pt-4 border-t transition-colors duration-200 ${\n            isDarkMode ? 'border-gray-700' : 'border-gray-200'\n          }`}>\n            <div className={`flex items-center space-x-4 text-sm transition-colors duration-200 ${\n              isDarkMode ? 'text-gray-400' : 'text-gray-500'\n            }`}>\n              <span>Posted {job?.posted || 'N/A'}</span>\n              <span>â€¢</span>\n              <span>{Array.isArray(job?.applications) ? job.applications.length : 0} applications</span>\n            </div>\n            <button\n              className=\"btn-primary px-8 py-3\"\n              onClick={handleApply}\n              disabled={hasApplied}\n            >\n              {hasApplied ? 'Applied' : 'Apply Now'}\n            </button>\n          </div>\n        </div>\n\n        <div className=\"grid lg:grid-cols-3 gap-6\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Job Description */}\n            <div className={`rounded-lg border p-6 transition-colors duration-200 ${\n              isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\n            }`}>\n              <h2 className={`text-xl font-semibold mb-4 transition-colors duration-200 ${\n                isDarkMode ? 'text-white' : 'text-gray-900'\n              }`}>Job Description</h2>\n              <div className=\"prose prose-gray max-w-none\">\n                {job?.description?.split('\\n').map((paragraph, index) => (\n                  <p key={index} className={`mb-4 transition-colors duration-200 ${\n                    isDarkMode ? 'text-gray-300' : 'text-gray-600'\n                  }`}>{paragraph}</p>\n                ))}\n              </div>\n            </div>\n\n            {/* Requirements */}\n            <div className={`rounded-lg border p-6 transition-colors duration-200 ${\n              isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\n            }`}>\n              <h2 className={`text-xl font-semibold mb-4 transition-colors duration-200 ${\n                isDarkMode ? 'text-white' : 'text-gray-900'\n              }`}>Requirements</h2>\n              {job?.requirements ? (\n                <ul className=\"space-y-2\">\n                  {/* Skills */}\n                  {Array.isArray(job?.requirements?.skills) && job?.requirements?.skills.length > 0 && (\n                    <li className=\"flex items-start\">\n                      <span className=\"w-2 h-2 bg-primary-500 rounded-full mt-2 mr-3 flex-shrink-0\"></span>\n                      <span className={`transition-colors duration-200 ${isDarkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                        Skills: {job?.requirements?.skills?.join(', ')}\n                      </span>\n                    </li>\n                  )}\n                  {/* Experience */}\n                  {job?.requirements?.experience && (\n                    <li className=\"flex items-start\">\n                      <span className=\"w-2 h-2 bg-primary-500 rounded-full mt-2 mr-3 flex-shrink-0\"></span>\n                      <span className={`transition-colors duration-200 ${isDarkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                        Experience: {job?.requirements?.experience}\n                      </span>\n                    </li>\n                  )}\n                  {/* Education */}\n                  {job?.requirements?.education && (\n                    <li className=\"flex items-start\">\n                      <span className=\"w-2 h-2 bg-primary-500 rounded-full mt-2 mr-3 flex-shrink-0\"></span>\n                      <span className={`transition-colors duration-200 ${isDarkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                        Education: {job?.requirements?.education}\n                      </span>\n                    </li>\n                  )}\n                  {/* Certifications */}\n                  {Array.isArray(job?.requirements?.certifications) && job?.requirements?.certifications.length > 0 && (\n                    <li className=\"flex items-start\">\n                      <span className=\"w-2 h-2 bg-primary-500 rounded-full mt-2 mr-3 flex-shrink-0\"></span>\n                      <span className={`transition-colors duration-200 ${isDarkMode ? 'text-gray-300' : 'text-gray-600'}`}>\n                        Certifications: {job?.requirements?.certifications?.join(', ')}\n                      </span>\n                    </li>\n                  )}\n                </ul>\n              ) : (\n                <p className={`text-gray-500 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>No requirements specified.</p>\n              )}\n            </div>\n\n            {/* Benefits */}\n            <div className={`rounded-lg border p-6 transition-colors duration-200 ${\n              isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\n            }`}>\n              <h2 className={`text-xl font-semibold mb-4 transition-colors duration-200 ${\n                isDarkMode ? 'text-white' : 'text-gray-900'\n              }`}>Benefits</h2>\n              {Array.isArray(job?.benefits) && job?.benefits.length > 0 ? (\n                <ul className=\"space-y-2\">\n                  {job?.benefits.map((benefit, index) => (\n                    <li key={index} className=\"flex items-start\">\n                      <span className=\"w-2 h-2 bg-secondary-500 rounded-full mt-2 mr-3 flex-shrink-0\"></span>\n                      <span className={`transition-colors duration-200 ${\n                        isDarkMode ? 'text-gray-300' : 'text-gray-600'\n                      }`}>{benefit}</span>\n                    </li>\n                  ))}\n                </ul>\n              ) : (\n                <p className={`text-gray-500 ${isDarkMode ? 'text-gray-400' : 'text-gray-500'}`}>No benefits specified.</p>\n              )}\n            </div>\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Company Info */}\n            <div className={`rounded-lg border p-6 transition-colors duration-200 ${\n              isDarkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\n            }`}>\n              <h3 className={`text-lg font-semibold mb-4 transition-colors duration-200 ${\n                isDarkMode ? 'text-white' : 'text-gray-900'\n              }`}>About {job?.company?.name || job?.company || 'Company'}</h3>\n              <p className={`mb-4 transition-colors duration-200 ${\n                isDarkMode ? 'text-gray-300' : 'text-gray-600'\n              }`}>\n                {job?.companyInfo?.description || 'No company description available.'}\n              </p>\n              <div className=\"space-y-2 text-sm\">\n                {job?.companyInfo?.size && (\n                  <div className=\"flex items-center\">\n                    <Users className={`h-4 w-4 mr-2 transition-colors duration-200 ${\n                      isDarkMode ? 'text-gray-400' : 'text-gray-400'\n                    }`} />\n                    <span className={`transition-colors duration-200 ${\n                      isDarkMode ? 'text-gray-300' : 'text-gray-600'\n                    }`}>{job?.companyInfo?.size}</span>\n                  </div>\n                )}\n                {job?.companyInfo?.industry && (\n                  <div className=\"flex items-center\">\n                    <Building className={`h-4 w-4 mr-2 transition-colors duration-200 ${\n                      isDarkMode ? 'text-gray-400' : 'text-gray-400'\n                    }`} />\n                    <span className={`transition-colors duration-200 ${\n                      isDarkMode ? 'text-gray-300' : 'text-gray-600'\n                    }`}>{job?.companyInfo?.industry}</span>\n                  </div>\n                )}\n                {job?.companyInfo?.website && (\n                  <div className=\"flex items-center\">\n                    <Globe className={`h-4 w-4 mr-2 transition-colors duration-200 ${\n                      isDarkMode ? 'text-gray-400' : 'text-gray-400'\n                    }`} />\n                    <a \n                      href={job?.companyInfo?.website} \n                      className=\"text-primary-600 hover:text-primary-700\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      Visit Website\n                    </a>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Similar Jobs */}\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Similar Jobs</h3>\n              {/* Remove hardcoded placeholder jobs here. Optionally, you can fetch and display real similar jobs if available. */}\n            </div>\n          </div>\n        </div>\n      </div>\n      {showApplyModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-lg shadow-lg\">\n            <h2 className=\"text-xl font-bold mb-2 text-gray-900 dark:text-gray-100\">Submit Your Application</h2>\n            <div className=\"mb-2 text-gray-700 dark:text-gray-300 text-sm\">\n              Please write a short paragraph about why you are a good fit for this job. Consider including:\n              <ul className=\"list-disc ml-6 mt-1 text-xs text-gray-600 dark:text-gray-400\">\n                <li>Your motivation for applying</li>\n                <li>Relevant experience or skills</li>\n                <li>What excites you about this company or role</li>\n              </ul>\n            </div>\n            <div className=\"mb-2 text-xs text-red-600 dark:text-red-400 font-semibold\">You can apply only once for this job.</div>\n            <textarea\n              className=\"w-full border rounded p-2 mb-4 dark:bg-gray-700 dark:text-gray-100\"\n              rows={5}\n              placeholder=\"Type your application message here...\"\n              value={coverLetter}\n              onChange={e => setCoverLetter(e.target.value)}\n              disabled={sending}\n            />\n            <div className=\"flex justify-end gap-2\">\n              <button\n                className=\"btn-secondary px-4 py-2 rounded\"\n                onClick={() => setShowApplyModal(false)}\n                disabled={sending}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"btn-primary px-4 py-2 rounded\"\n                onClick={handleSendApplication}\n                disabled={sending || !coverLetter.trim()}\n              >\n                {sending ? 'Sending...' : 'Send'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default JobDetail; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}